# 宇宙距離金額換算シミュレーター 仕様書

## 1. 概要

宇宙の広大さを「お金」という身近な概念に置き換えることで、直感的に理解できるインタラクティブなWebアプリケーション。

### コンセプト
「1km = 1円」または「1光年 = 1円」という2つの換算モードを切り替えることで、近距離から超長距離まで、宇宙のさまざまなスケールを日本円に換算し、グラフとビジュアルで表現することで、宇宙のスケール感を実感できるシミュレーター。

- **kmモード（1km = 1円）**: 地球周辺〜太陽系の距離に最適
- **光年モード（1光年 = 1円）**: 恒星間〜銀河系外の距離に最適

---

## 2. 技術スタック

- **HTML5**: ページ構造
- **CSS3**: スタイリング、アニメーション
- **JavaScript (ES6+)**: インタラクティブ機能
- **Chart.js**: グラフ表示ライブラリ
- **Font Awesome**: アイコン表示

---

## 3. 主要機能

### 3.1 距離データベース
以下の宇宙の距離を事前定義（1光年 ≈ 9.46兆km）:

| カテゴリ     | 項目                        | 距離（km）    | 距離（光年）     | kmモード換算 | 光年モード換算   |
| ------------ | --------------------------- | ------------- | ---------------- | ------------ | ---------------- |
| **地球周辺** | 東京-大阪                   | 500           | 0.000000000053   | 500円        | 0.000000000053円 |
|              | 地球一周                    | 40,075        | 0.0000000042     | 約4万円      | 0.0000000042円   |
|              | 地球-月                     | 384,400       | 0.000000041      | 約38万円     | 0.000000041円    |
| **太陽系**   | 地球-太陽                   | 149,600,000   | 0.000016         | 約1.5億円    | 0.000016円       |
|              | 地球-火星（最接近）         | 54,600,000    | 0.0000058        | 約5,460万円  | 0.0000058円      |
|              | 地球-木星                   | 628,730,000   | 0.000066         | 約6.3億円    | 0.000066円       |
|              | 地球-海王星                 | 4,351,400,000 | 0.00046          | 約43.5億円   | 0.00046円        |
|              | 太陽系の直径                | 約12兆        | 約0.0013         | 約12兆円     | 約0.0013円       |
| **恒星間**   | 太陽-プロキシマ・ケンタウリ | 約40兆        | 約4.24           | 約40兆円     | 約4.24円         |
|              | 太陽-シリウス               | 約82兆        | 約8.6            | 約82兆円     | 約8.6円          |
|              | 太陽-ベテルギウス           | 約6,430兆     | 約680            | 約6,430兆円  | 約680円          |
| **銀河系**   | 銀河系の直径                | 約950京       | 約100,000        | 約950京円    | 約10万円         |
|              | 銀河系中心まで              | 約253京       | 約26,700         | 約253京円    | 約2.7万円        |
| **銀河系外** | アンドロメダ銀河まで        | 約237垓       | 約2,500,000      | 約237垓円    | 約250万円        |
|              | 観測可能な宇宙の直径        | 約880溝       | 約93,000,000,000 | 約880溝円    | 約930億円        |

### 3.2 換算モード切り替え機能

#### 基本モード選択
大きな切り替えボタンで2つのモードを選択:

**【kmモード】** ボタン ⇄ **【光年モード】** ボタン

- **kmモード（デフォルト）**: 1km = 1円
  - 地球周辺〜太陽系の距離を表示するのに最適
  - 身近な距離感で理解しやすい
  - 推奨範囲: 地球一周〜太陽系の直径

- **光年モード**: 1光年 = 1円
  - 恒星間〜銀河系外の距離を表示するのに最適
  - 超長距離をコンパクトに表現
  - 推奨範囲: プロキシマ・ケンタウリ〜観測可能な宇宙

#### カスタム倍率設定（各モード内で調整可能）
選択したモードの基本レートに対する倍率を変更:
- **デフォルト倍率**: ×1（基本レート）
- **カスタム倍率**: ×0.01 〜 ×10,000（スライダーまたは入力フォーム）
- **プリセット倍率**:
  - 庶民感覚: ×100
  - 富裕層感覚: ×0.01
  - 国家予算感覚: ×10,000

### 3.3 比較ビジュアライゼーション

#### A. 対数スケール棒グラフ
- Chart.jsを使用した横棒グラフ
- 対数スケール(log10)で表示
- カテゴリ別に色分け
- ホバーで詳細情報表示(距離、金額、具体例)

#### B. 比較カード
- 選択した2つの距離を比較
- 差額と倍率を表示
- 「これは○○の△倍です」という表現

#### C. 身近なものとの比較
金額に応じた多様な例え（選択中のモードに合わせて自動表示）:

**〜1,000円**
- 500円: 缶ジュース1本 / コンビニ弁当半分 / 駄菓子の詰め合わせ
- 1,000円: ファストフードのセット / 文庫本2冊 / 映画館1回

**1,000円〜10万円**
- 5,000円: 美容院カット / ランチビュッフェ2人分 / ゲームソフト1本
- 1万円: 高級ランチコース / スニーカー1足 / 月額サブスク1年分
- 3万円: ビジネスホテル5泊 / 任天堂Switch / 高級腕時計の入門モデル
- 4万円: 国内旅行（1泊2日） / 電動自転車 / 冬物コート
- 5万円: iPad / 炊飯器（高級） / スーツ一式

**10万円〜100万円**
- 10万円: iPhone最新モデル / 国内旅行（3泊4日豪華版） / 高性能ノートPC
- 20万円: 冷蔵庫＋洗濯機 / 海外旅行（アジア） / ブランドバッグ
- 38万円: 軽自動車（中古） / 結婚指輪ペア / 大型テレビ＋ホームシアター
- 50万円: 原付バイク（新車） / 歯科矯正 / 高級ブランド時計
- 100万円: 中古車（コンパクトカー） / 海外旅行（ヨーロッパ周遊） / 婚約指輪

**100万円〜1億円**
- 300万円: 新車（普通車） / 結婚式費用 / 大学の年間授業料
- 500万円: 高級車（新車） / 自己投資（MBA留学1年分） / リフォーム費用
- 1,000万円: 中古マンション頭金 / 高級外車 / 子供の教育費（幼稚園〜大学）
- 3,000万円: 郊外の一戸建て / フェラーリ / 老後資金の目安
- 5,000万円: 都市部のマンション / プライベートジェット（共同所有） / 年収1000万円×50年分
- 1.5億円: 都心の高級マンション / ロールスロイス / 一生分の生活費（月30万円）

**1億円〜1兆円**
- 10億円: 豪邸＋高級車複数台 / プライベートジェット / 中小企業の時価総額
- 100億円: 小型クルーザー / 離島丸ごと購入 / 大企業役員の生涯収入
- 1,000億円: 大型クルーザー / 高層ビル1棟 / Forbes長者番付入り
- 5,000億円: プロ野球球団 / テーマパーク建設 / 世界的企業の創業資金

**1兆円〜**
- 1兆円: 東京スカイツリー建設費の約10倍 / 小国の年間GDP / リニア中央新幹線の一部
- 12兆円: 日本の国家予算の約1/10 / 東京オリンピック総費用の約3倍
- 40兆円: 日本の国家予算の約1/3 / トヨタ自動車の時価総額
- 100兆円: 日本の国家予算に匹敵 / Apple社の時価総額
- 1,000兆円: 日本の国家債務 / 世界のGDPの約1%
- 1京円: 世界の総資産の約10倍 / 地球上の全資産を遥かに超える
- 950京円: もはや地球上に存在しない金額 / 全人類の生産活動数千年分

**表示ロジック**
- 各金額帯で3〜5個の例えをランダムまたは順番に表示
- ホバーで追加の例えを表示
- ユーザーの入力金額に最も近い例えを自動選択

### 3.4 インタラクティブ機能

#### カスタム距離計算機
- ユーザーが独自の距離を入力
- リアルタイムで金額換算
- 既存の距離と自動比較

#### アニメーション
- ページ読み込み時にカウントアップアニメーション
- グラフの段階的表示
- スムーズなスクロール遷移

#### フィルタリング
- カテゴリ別にデータをフィルタ
- 金額範囲でフィルタ(例: 1億円以下のみ表示)

---

## 4. UI/UXデザイン

### 4.1 レイアウト構成

```
┌─────────────────────────────────────┐
│        ヘッダー                      │
│  「宇宙の距離を お金で実感する」     │
└─────────────────────────────────────┘
┌─────────────────────────────────────┐
│      モード切り替えセクション         │
│  [🌍 kmモード] [⭐ 光年モード]     │
│  現在: 1km = 1円 / 1光年 = 1円      │
└─────────────────────────────────────┘
┌─────────────────────────────────────┐
│      カスタム倍率設定                │
│  [スライダー] 倍率: ×[ 1.0 ]       │
│  [×0.01] [×1] [×100] [×10000]     │
└─────────────────────────────────────┘
┌─────────────────────────────────────┐
│     ハイライトカード（3列）          │
│  ┌─────┐ ┌─────┐ ┌─────┐         │
│  │月まで│ │太陽 │ │銀河系│         │
│  │38万円│ │1.5億│ │10万円│         │
│  └─────┘ └─────┘ └─────┘         │
│   ※金額は選択中のモードで変化       │
└─────────────────────────────────────┘
┌─────────────────────────────────────┐
│      対数スケールグラフ              │
│  ████ 地球一周 4万円                │
│  ██████████ 太陽 1.5億円            │
│  ████████████████ 銀河系 950京円    │
└─────────────────────────────────────┘
┌─────────────────────────────────────┐
│      比較ツール                      │
│  [選択1 ▼] vs [選択2 ▼]            │
│  「太陽までの距離は、月までの389倍」 │
└─────────────────────────────────────┘
┌─────────────────────────────────────┐
│     カスタム計算機                   │
│  距離を入力: [______] km            │
│  → これは 〇〇円です!                │
└─────────────────────────────────────┘
┌─────────────────────────────────────┐
│     詳細テーブル                     │
│  全データの一覧表示(ソート可能)       │
└─────────────────────────────────────┘
```

### 4.2 カラースキーム

- **背景**: 深い宇宙を想起させるダークブルー (#0a1628)
- **アクセント**: ゴールド (#ffd700) - お金のイメージ
- **地球周辺**: ライトブルー (#4a90e2)
- **太陽系**: オレンジ (#f39c12)
- **恒星間**: パープル (#9b59b6)
- **銀河系**: ピンク (#e91e63)
- **銀河系外**: ディープパープル (#673ab7)

### 4.3 フォント
- **見出し**: 'Orbitron', sans-serif (宇宙的)
- **本文**: 'Noto Sans JP', sans-serif (可読性)
- **数字**: 'Roboto Mono', monospace (視認性)

---

## 5. データ構造

```javascript
const LIGHT_YEAR_IN_KM = 9.461e12; // 1光年 = 9.461兆km

const spaceDistances = [
  {
    id: 1,
    name: "東京-大阪",
    category: "地球周辺",
    distanceKm: 500,
    distanceLightYears: 500 / LIGHT_YEAR_IN_KM,
    description: "新幹線で約2時間半",
    icon: "fa-train",
    comparisonKm: "缶ジュース1本分",
    comparisonLy: "光速で0.000000053秒"
  },
  {
    id: 2,
    name: "地球一周",
    category: "地球周辺",
    distanceKm: 40075,
    distanceLightYears: 40075 / LIGHT_YEAR_IN_KM,
    description: "赤道上の距離",
    icon: "fa-globe",
    comparisonKm: "国内旅行1回分",
    comparisonLy: "光速で0.13秒"
  },
  {
    id: 3,
    name: "太陽-プロキシマ・ケンタウリ",
    category: "恒星間",
    distanceKm: 4.01e13,
    distanceLightYears: 4.24,
    description: "最も近い恒星",
    icon: "fa-star",
    comparisonKm: "日本の国家予算の約40倍",
    comparisonLy: "コンビニ弁当約1個分"
  },
  // ... 他のデータ
];
```

---

## 6. 主要関数

### 6.1 換算計算（モード対応）
```javascript
// 現在のモードを管理
let currentMode = 'km'; // 'km' or 'lightyear'
let customMultiplier = 1; // カスタム倍率

// モード切り替え
function switchMode(mode) {
  currentMode = mode;
  updateAllDisplays();
}

// 距離を金額に換算
function convertToMoney(spaceObject) {
  let baseAmount;
  
  if (currentMode === 'km') {
    // 1km = 1円 × 倍率
    baseAmount = spaceObject.distanceKm * customMultiplier;
  } else {
    // 1光年 = 1円 × 倍率
    baseAmount = spaceObject.distanceLightYears * customMultiplier;
  }
  
  return baseAmount;
}

// 金額を読みやすくフォーマット
function formatMoney(amount) {
  // 小さすぎる場合は科学的記法
  if (amount < 0.01) {
    return amount.toExponential(2) + '円';
  }
  
  // 大きな数字を適切な単位で表示
  const units = [
    { value: 1e32, name: '溝' },
    { value: 1e28, name: '穣' },
    { value: 1e24, name: '秭' },
    { value: 1e20, name: '垓' },
    { value: 1e16, name: '京' },
    { value: 1e12, name: '兆' },
    { value: 1e8, name: '億' },
    { value: 1e4, name: '万' },
  ];
  
  for (const unit of units) {
    if (amount >= unit.value) {
      return (amount / unit.value).toFixed(2) + unit.name + '円';
    }
  }
  
  return amount.toLocaleString('ja-JP') + '円';
}
```

### 6.2 グラフ生成
```javascript
function createLogChart(data, rate) {
  // Chart.jsで対数スケールグラフを生成
  // カテゴリ別に色分け
  // ホバーエフェクト実装
}
```

### 6.3 比較機能
```javascript
function compareDistances(id1, id2) {
  const obj1 = spaceDistances.find(d => d.id === id1);
  const obj2 = spaceDistances.find(d => d.id === id2);
  const ratio = obj2.distanceKm / obj1.distanceKm;
  const difference = Math.abs(obj2.distanceKm - obj1.distanceKm);
  return {
    ratio,
    difference,
    message: `${obj2.name}は${obj1.name}の${ratio.toFixed(1)}倍の距離です`
  };
}
```

---

## 7. インタラクション仕様

### 7.1 モード切り替え
1. ユーザーが【kmモード】または【光年モード】ボタンをクリック
2. ボタンのアクティブ状態が切り替わる（色・強調表示）
3. 全データが選択したモードに基づき再計算
4. 金額表示がアニメーション付きで切り替わる（カウントアップ効果）
5. グラフがスムーズに再描画（0.5秒のトランジション）
6. 推奨表示範囲が自動的に調整される

### 7.2 カスタム倍率変更
1. ユーザーがスライダーを動かすまたは値を入力
2. リアルタイムですべての金額が更新
3. グラフもアニメーション付きで再描画
4. 0.3秒のデバウンス処理

### 7.2 カードホバー
- カードにマウスオーバーで拡大(scale: 1.05)
- シャドウ強調
- 追加情報のフェードイン

### 7.3 グラフインタラクション
- バーホバーで詳細ツールチップ表示
- クリックで詳細モーダルを開く
- 凡例クリックでカテゴリの表示/非表示

---

## 8. レスポンシブデザイン

### ブレークポイント
- **モバイル**: ~768px (1カラム)
- **タブレット**: 768px~1024px (2カラム)
- **デスクトップ**: 1024px~ (3カラム)

### モバイル最適化
- ハンバーガーメニュー
- タッチフレンドリーなボタンサイズ(最小44px)
- スワイプでカード切り替え
- 簡略化されたグラフ表示

---

## 9. アクセシビリティ

- セマンティックHTML使用
- ARIA属性の適切な設定
- キーボードナビゲーション対応
- スクリーンリーダー対応のラベル
- カラーコントラスト比 4.5:1以上

---

## 10. パフォーマンス最適化

- 遅延読み込み(Lazy Loading)
- 画像の最適化
- CSS/JSのミニファイ
- Chart.jsの軽量版使用
- デバウンス/スロットル処理

---

## 11. 今後の拡張案

### Phase 2
- ソーシャルシェア機能
- 自分の旅行距離を入力して換算
- アニメーションで宇宙旅行を疑似体験
- 音声ガイド

### Phase 3
- 3D可視化(Three.js)
- AR機能(WebXR)
- 多言語対応
- クイズモード

---

## 12. 参考文献・データソース

- NASA: 太陽系の距離データ
- 国立天文台: 恒星距離データ
- Wikipedia: 宇宙の大規模構造

---

## 13. ファイル構成

```
space-money-simulator.html  (メインHTMLファイル)
├── インラインCSS
├── インラインJavaScript
└── 外部ライブラリ(CDN)
    ├── Chart.js
    └── Font Awesome
```

---

## 14. 開発工数見積もり

| タスク         | 時間       |
| -------------- | ---------- |
| データ整備     | 1時間      |
| HTML構造作成   | 2時間      |
| CSS/デザイン   | 3時間      |
| JavaScript実装 | 4時間      |
| グラフ実装     | 2時間      |
| テスト・調整   | 2時間      |
| **合計**       | **14時間** |

---

## 15. 成功指標(KPI)

- ユーザーの平均滞在時間: 3分以上
- 換算レート変更率: 60%以上
- 比較ツール使用率: 40%以上
- モバイルでの離脱率: 30%以下

---

*作成日: 2025年12月10日*
*バージョン: 1.0*
